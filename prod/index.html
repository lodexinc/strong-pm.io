<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <title>StrongLoop Process Manager</title>
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ubuntu:300,400,500,300italic,400italic,500italic">
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ubuntu+Mono">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/css/prism.css">
    <link rel="stylesheet" href="/css/main.css">
    <script src="//code.jquery.com/jquery-1.10.2.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-placeholder/2.0.7/jquery.placeholder.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/0.6.11/fastclick.min.js"></script>
    <script src="/js/prism.js"></script><script>$('input, textarea').placeholder();</script>
    <!--[if lt IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/r29/html5.min.js"></script><![endif]-->
    <script src="/js/main.js"></script>
  </head>
  <body class="l-page-getting-started -getting-started-index js-body">
  <!-- Google Tag Manager -->
  <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5XL76H"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-5XL76H');</script>
  <!-- End Google Tag Manager -->
    <div class="c-wrapper js-wrapper">
      <header class="c-masthead">
        <div class="c-container x-flex-v js-masthead-container">
          <a href="/" class="_logo x-flex-v">
            <h1 class="c-heading -h3">StrongLoop<br/> Process Manager</h1>
          </a>
          <nav class="_nav js-masthead-nav">
            <ul class="_nav-list js-nav-list">
              <li class="_nav-item"><a href="/">About</a></li>
              <li class="_nav-item "><a href="/compare">Compare</a></li>
              <li class="_nav-item "><a href="/getting-started">Local Use</a></li>
              <li class="_nav-item -active"><a href="/prod">Remote Use</a></li>
              <li class="_nav-item"><a href="/resources">Resources</a></li>
            </ul>
          </nav>
          <button class="_menu js-menu">
            <i class="fa fa-bars"></i>
            <span class="x-hide">Menu</span>
          </button>
          <iframe src="http://ghbtns.com/github-btn.html?user=strongloop&repo=strong-pm&type=watch&count=true" class="c-github-star js-github-star"></iframe>
        </div>
      </header>

      <main class="c-content">
        <section class="c-section">
          <div class="c-container -padded">
            <h1 class="c-heading -h2">Use remotely in production</h1>

            <div class="c-grid">
              <div class="_col -col-3-4">
                <img src="/images/PM Local and Remote.svg" />
              </div>
            </div>

          </div>
        </section>

        <section class="c-section x-greylight"><a name="prod"></a>
          <div class="c-container -padded">
            <h2 class="c-heading -h3"><a href="#prod">Install on remote host</a></h2>
            <div class="c-grid">
              <div class="_col -col-1-1">
                <p>Install StrongLoop Process Manager on a remote host from either npm or Docker.
                Then you can remotely deploy and control your app from your workstation using the StrongLoop tools.
                </p>
                <p>Either:</p>
                <ul>
                  <li><a href="#npm-install">Install with npm</a></li>
                  <li><a href="#docker">Install from Docker Hub</a></li>
                </ul>
              </div>
            </div>
          </div>
        </section>

        <section class="c-section "><a name="npm-install"></a>
          <div class="c-container -padded">
            <h2 class="c-heading -h4"><a href="#npm-install">Install with npm and run as a service</a></h2>

            <div class="c-grid">
              <div class="_col -col-1-2">
                <p>Install StrongLoop Process Manager from npm:</p>
              </div>
              <div class="_col -col-1-2">
                <pre><code class="language-bash">$ npm install -g strong-pm</code></pre>
              </div>
            </div>

            <div class="c-grid" style="margin-bottom: 10px;">
              <div class="_col -col-1-1">
                <p>On Linux distributions that support <b>Upstart</b> or <b>systemd</b>, install Process Manager as a service
                to ensure it starts when the system boots, aggregates logs properly, and so on; then start it.</p>
                <br/>
              </div>

              <div class="_col -col-1-3">
                <p><b>Ubuntu 12.04+</b>:</p>
              </div>
              <div class="_col -col-2-3">
                <pre><code class="language-bash">$ sudo sl-pm-install
$ sudo /sbin/initctl start strong-pm </code></pre>
</div>
            </div>

            <div class="c-grid" style="margin-bottom: 10px;">
              <div class="_col -col-1-3">
                <p><b>Red Hat Enterprise Linux 7+</b>:</p>
              </div>
              <div class="_col -col-2-3">
                <pre><code class="language-bash">$ sudo sl-pm-install --systemd
$ sudo /usr/bin/systemctl start strong-pm </code></pre>
</div>
            </div>

            <div class="c-grid">
              <div class="_col -col-1-3">
                <p><b>Red Hat Enterprise Linux 5 and 6</b>:</p>
              </div>
              <div class="_col -col-2-3">
                <pre><code class="language-bash">$ sudo sl-pm-install --upstart=0.6
$ sudo /sbin/initctl start strong-pm</code></pre>
              </div>
            </div>

            <div class="c-grid">
              <div class="_col -col-1-1">
                <p class="note">NOTE: On RHEL, by default <span style="font-family: monospace;">/usr/local/bin</span> is not on the path,
                so if you encounter problems, use this install command:
                <span style="font-family: monospace;">sudo env "PATH=$PATH" sl-pm-install</span>
                </p>

                <p>For more information, see
                <a href="http://docs.strongloop.com/display/SLC/Setting+up+a+production+host">Setting up a production host</a> in StrongLoop documentation.</p>
              </div>
            </div>
          </div>
        </section>

        <section class="c-section"><a name="redeploy"></a>
          <div class="c-container">
            <h2 class="c-heading -h4"><a href="#dockerapps">Enable Dockerized apps</a></h2>
            <div class="c-grid" >
              <div class="_col -col-3-5">
                <p>When you have Docker installed on your production host, you can set up StrongLoop Process Manager to "Dockerize" apps deployed to it.
                Just use the <span style="font-family: monospace;">--driver docker</span> option when you install the StrongLoop PM service
                so it automatically converts deployed applications into Docker images and installs them in the
                Docker Engine running on your deployment system.
                </p>
              </div>
              <div class="_col -col-2-5">
                <pre><code class="language-bash">$ sudo sl-pm-install --driver docker</code></pre>
              </div>
            </div>
            <div class="c-grid" >
              <div class="_col -col-1-1">
                <p>Now, whenever you deploy an app to StrongLoop PM on this server, your app will be turned into a Docker image
                and then run in a Docker container.</p>
                <br/>
              </div>
            </div>
          </div>
        </section>


        <section class="c-section x-greylight"><a name="docker"></a>
          <div class="c-container -padded">
            <h2 class="c-heading -h4"><a href="#docker">Or: Install and run from Docker Hub</a></h2>

            <div class="c-grid">
              <div class="_col -col-1-1">
                Run StrongLoop PM as a service without installing anything.  You must have Docker installed on the system.
                </p><p>
                Run the script below to download the image, start a StrongLoop PM container, and create an Upstart
                or systemd config file.  The app will use ports 3001-3010; StrongLoop PM will use port 8701 and will
                automatically restart if your server reboots.
              </div>
              <div class="_col -col-1-1">
                <pre><code class="language-bash">$ curl -sSL https://strong-pm.io/docker.sh | sudo /bin/sh</code></pre>
              </div>
            </div>
            <div class="_col -col-1-1">
              <!-- Link to our docs instead -->
              <p>For more information on installing from Docker Hub, see
              <a href="http://docs.strongloop.com/display/SLC/Setting+up+a+production+host#Settingupaproductionhost-UsingDocker">Setting up a production host</a> in StrongLoop documentation.</p>
            </div>
          </div>
        </section>

        <section class="c-section "><a name="build"></a>
          <div class="c-container -padded">
            <h2 class="c-heading -h3"><a href="#build">Build your application</a></h2>

            <p class="note">NOTE: This assumes you followed the steps in <a href="/getting-started/">Use locally on your workstation</a>
            to install StrongLoop on your workstation and have a Node app to deploy.</p>

            <p>Back on your workstation, you're going to build your app for deployment.
            You can either build an npm package (a .tgz file) or build to a Git branch.
            </p>

            <div class="c-grid">
              <div class="_col -col-1-1">
                <p>If your project code is in a Git repository, then by default <span style="font-family: monospace;">slc build</span>
                will commit to a 'deploy' branch in Git.<br/>
                 See <a href="http://docs.strongloop.com/display/SLC/Committing+a+build+to+Git">Committing a build to Git</a> for details.
                </p>
              </div>
              <div class="_col -col-1-1">
<pre><code class="language-bash">$ slc build
Running `git add --force --all .`
Running `git write-tree`
  => 11476565ef4903367a5b545438ecfb4d2b0a2404
Running `git commit-tree -p "refs/heads/deploy" -m "Commit build products" 11476565ef4903367a5b545438ecfb4d2b0a2404`
Running `git update-ref "refs/heads/deploy" ca436bfcf83517da7d943d4c90427c071af4e9d8`
Committed build products onto `deploy`
</code></pre>
              </div>
            </div>
<br/>
            <div class="c-grid">
              <div class="_col -col-1-1">
                <p>If your project code is not in a Git repository, then by default <span style="font-family: monospace;">slc build</span>
                will build an npm package (a .tgz file).<br/>
                See <a href="http://docs.strongloop.com/display/SLC/Creating+a+build+archive">Creating a build archive</a> for details.
                </p>
              </div>
              <div class="_col -col-1-1">
<pre><code class="language-bash">$ slc build
Running `npm install --ignore-scripts`
Running `npm prune --production`
Running `touch .npmignore`
Check the auto-generated .npmignore is correct!
Setting package.json "bundleDependencies" to: [
  express
]
Running `npm --quiet pack`
Running `mv -f express-example-app-1.0.0.tgz ../express-example-app-1.0.0.tgz`
</code></pre>
              </div>
            </div>
          </div>
        </section>

        <section class="c-section x-greylight"><a name="deploy"></a>
          <div class="c-container -padded">
            <h2 class="c-heading -h3"><a href="#deploy">Deploy to remote host</a></h2>

            <div class="c-grid">
              <div class="_col -col-3-5">
                <p>Deploy the npm package (.tgz file) file to the remote StrongLoop PM.
                By default, <span class="cmd">slc deploy</span> looks in the parent directory for a .tgz file with the name and version specified in your app's
                <span class="cmd">package.json</span>.
                </p>
                <p>In this case, it finds <span class="cmd">express-example-app-1.0.0.tgz</span>, so it deploys it to the specified host.</p>
                <p>Your app is now deployed!</p>

              </div>
              <br/>
              <div class="_col -col-2-5 top-pad">
                <pre><code class="language-bash">$ slc deploy http://your.remote.host</code></pre>
              </div>
            </div>

            <div class="c-grid">
              <div class="_col -col-1-1">
                <p>If the tool doesn't find a .tgz file, then by default it deploys the app from the Git 'deploy' branch.
                You can also specify a .tgz file or Git branch as an argument.
                If you want to try this out, just delete the .tgz file and re-enter the above command.</p>
                <p>Open <a href="http://your.remote.host:3001">http://your.remote.host:3001</a> to see the app in your browser.</p>
                <p>For more information, see <a href="http://docs.strongloop.com/display/SLC/Deploying+applications+with+slc">Deploying applications with slc</a>
                in the documentation.</p>
              </div>
            </div>
          </div>
        </section>

        <section class="c-section "><a name="status"></a>
          <div class="c-container -padded">
            <h2 class="c-heading -h3"><a href="#status">Display app status</a></h2>

            <div class="c-grid">
              <div class="_col -col-1-1">
                <p>Get a quick status overview with all worker PIDs, cluster worker IDs, other key information.</p>
              </div>
            </div>
            <div class="c-grid top-pad">
              <div class="_col -col-1-1">
                <pre><code class="language-bash">$ slc ctl status --control http://your.remote.host
Service ID: 1
Service Name: express-example-app
Environment variables:
  No environment variables defined
Instances:
    Version  Agent version  Cluster size
     4.3.2       1.6.11            4
Processes:
        ID      PID   WID  Listening Ports  Tracking objects?  CPU profiling?
    1.1.61192  61192   0
    1.1.61193  61193   1     0.0.0.0:3001
    1.1.61194  61194   2     0.0.0.0:3001
    1.1.61195  61195   3     0.0.0.0:3001
    1.1.61196  61196   4     0.0.0.0:3001
</code></pre>
              </div>
            </div>
          </div>
        </section>

        <section class="c-section x-greylight "><a name="cluster"></a>
          <div class="c-container -padded">
            <h2 class="c-heading -h3"><a href="#cluster">Change cluster size on remote host</a></h2>

            <div class="c-grid">
              <div class="_col -col-1-1">
            <p>By default the Process Manager runs one process per CPU.  So, on a four-core system
            it will run the app in a four-process cluster.  </p>
              </div>
            </div>

            <div class="c-grid">
              <div class="_col -col-1-4">
            <p>You can easily change the cluster size.</p>
            <p>Now if you display status again, you'll see only two worker processes running.</p>
              </div>
              <div class="_col -col-3-4">
                <pre><code class="language-bash">$ slc ctl --control http://your.remote.host set-size express-example-app 2
$ slc ctl status --control http://your.remote.host
...
Processes:
    ID         PID    WID  Listening Ports  Tracking objects?  CPU profiling?
    1.1.61192  61192   0
    1.1.61193  61193   1     0.0.0.0:3001
    1.1.61194  61194   2     0.0.0.0:3001</code></pre>
              </div>
            </div>

          <div class="c-grid">
            <div class="_col -col-1-1">
              <br/><p>For more information see
              <a href="https://docs.strongloop.com/display/SLC/Clustering">Clustering</a> in the documentation.</p>
            </div>
          </div>
        </div>
        </section>

        <section class="c-section"><a name="redeploy"></a>
          <div class="c-container -padded">
            <h2 class="c-heading -h3"><a href="#redeploy">Re-deploy app with zero downtime</a></h2>
            <div class="c-grid" >
              <div class="_col -col-1-2">
                <p>When your code changes, simply rebuild and re-deploy it to the production host (for example, using Git deploy).
                  StrongLoop Process Manager automatically performs a rolling restart of all processes, so you get zero downtime.
                </p>
              </div>
              <div class="_col -col-1-2">
                <pre><code class="language-bash"> $ slc deploy http://your.remote.host </code></pre>
              </div>
            </div>
          </div>
        </section>

        <section class="c-section x-greylight "><a name="logs"></a>
          <div class="c-container -padded">
            <h2 class="c-heading -h3"><a href="#logs">Generate logs</a></h2>

            <div class="c-grid">
              <div class="_col -col-1-1">
                Follow your logs live in the console.
                <!-- Show a different log example here? -->
              </div>
              <div class="_col -col-1-1" style="margin-bottom: 10px;">
                <pre><code class="language-bash">$ slc ctl --control http://your.remote.host log-dump express-example-app --follow </code></pre>
              </div>

              <div class="_col -col-1-1">
                <pre><code class="language-markup" style="font-size: 85%">2015-03-25T04:21:08.447Z pid:70339 worker:0 INFO strong-agent using collector https://collector.strongloop.com:443
2015-03-25T04:21:08.447Z pid:70339 worker:0 INFO strong-agent v1.3.2 profiling app 'express-example-app' pid '70339'
2015-03-25T04:21:08.447Z pid:70339 worker:0 INFO strong-agent[70339] started profiling agent
2015-03-25T04:21:08.447Z pid:70339 worker:0 INFO supervisor starting (pid 70339)
2015-03-25T04:21:08.447Z pid:70339 worker:0 INFO strong-agent strong-agent using strong-cluster-control v2.0.0
2015-03-25T04:21:08.447Z pid:70339 worker:0 INFO supervisor reporting metrics to `internal:`
2015-03-25T04:21:08.451Z pid:70339 worker:0 INFO supervisor size set to 4
2015-03-25T04:21:08.455Z pid:70339 worker:0 INFO supervisor listening on 'runctl'
2015-03-25T04:21:08.521Z pid:70339 worker:0 INFO supervisor started worker 1 (pid 70340)
2015-03-25T04:21:08.656Z pid:70339 worker:0 INFO supervisor started worker 2 (pid 70341)
2015-03-25T04:21:08.775Z pid:70339 worker:0 INFO supervisor started worker 3 (pid 70342)
2015-03-25T04:21:08.948Z pid:70340 worker:1 INFO strong-agent[70340] started profiling agent
2015-03-25T04:21:08.949Z pid:70339 worker:0 INFO supervisor started worker 4 (pid 70343)
2015-03-25T04:21:08.950Z pid:70339 worker:0 INFO supervisor resized to 4
2015-03-25T04:21:08.970Z pid:70339 worker:0 INFO strong-agent[70339] connected to collector
2015-03-25T04:21:09.030Z pid:70341 worker:2 INFO strong-agent[70341] started profiling agent
2015-03-25T04:21:09.082Z pid:70340 worker:1 Listening on port: 3001
2015-03-25T04:21:09.159Z pid:70342 worker:3 INFO strong-agent[70342] started profiling agent
2015-03-25T04:21:09.229Z pid:70343 worker:4 INFO strong-agent[70343] started profiling agent
2015-03-25T04:21:09.231Z pid:70341 worker:2 Listening on port: 3001
2015-03-25T04:21:09.758Z pid:70342 worker:3 Listening on port: 3001
2015-03-25T04:21:09.759Z pid:70343 worker:4 Listening on port: 3001
2015-03-25T04:21:09.760Z pid:70340 worker:1 INFO strong-agent[70340] connected to collector
2015-03-25T04:21:09.840Z pid:70341 worker:2 INFO strong-agent[70341] connected to collector
2015-03-25T04:21:09.873Z pid:70342 worker:3 INFO strong-agent[70342] connected to collector
2015-03-25T04:21:09.955Z pid:70343 worker:4 INFO strong-agent[70343] connected to collector
</code></pre>
              </div>
            </div>
          </div>
        </section>

        <section class="c-section"><a name="multiapp"></a>
          <div class="c-container -padded">
            <h2 class="c-heading -h3"><a href="#multiapp">Deploy a second app to PM</a></h2>
            <div class="c-grid" >
              <div class="_col -col-1-1">
                <p>One StrongLoop Process Manager can host multiple applications.
                This minimizes resource consumption in a production environment (since PM incurs some overhead),
                and provides a single control point to make management easier.
                </p>
                <p>
                An application runtime instance is referred to as a "service."
                PM assigns each service a numeric identifer and a name (by default the
                <span class="cmd">name</span> property from the app's <span class="cmd">package.json</span>).
                Notice the "service name" shown when you <a href="#status">displayed app status above</a>.
                Use the <span class="cmd">--service</span> option to specify a different service name.
                </p>
              </div>
            </div>
            <br/>
          <div class="c-grid" >
              <div class="_col -col-1-3">
                <p>
                For example, suppose you have an app that manages your accounts API.
                After building it with <span class="cmd">slc build</span> as shown previously,
                you could deploy it to PM as "acct-service" as follows:
                </p>
              </div>
              <div class="_col -col-2-3">
                <pre><code class="language-bash"> $ slc deploy --service acct-service http://your.remote.host </code></pre>
              </div>
            </div>
          <br/>
          <div class="c-grid" >
            <div class="_col -col-1-1">
              <p>
                Now, when you display status, PM will show you both services.
              </p>
            </div>
            <div class="_col -col-1-1" style="margin-top: 10px;"><pre><code class="language-bash">$ slc ctl -C http://your.remote.host
Service ID: 1
Service Name: express-example-app
Environment variables:
  No environment variables defined
Instances:
    Version  Agent version  Cluster size  Driver metadata
     4.3.2       1.6.11           4             N/A
Processes:
        ID      PID   WID  Listening Ports  Tracking objects?  CPU profiling?  Tracing?
    1.1.11256  61192   0
    1.1.11257  61193   1     0.0.0.0:3001
    1.1.11262  61194   2     0.0.0.0:3001
    1.1.11289  61195   3     0.0.0.0:3001
    1.1.11301  61196   4     0.0.0.0:3001

Service ID: 2
Service Name: acct-service
Environment variables:
  No environment variables defined
Instances:
    Version  Agent version  Cluster size  Driver metadata
     4.3.2       1.6.11           4             N/A
Processes:
        ID      PID   WID  Listening Ports  Tracking objects?  CPU profiling?  Tracing?
    2.1.12278  61197   0
    2.1.12279  61198   1     0.0.0.0:3002
    2.1.12280  61199   2     0.0.0.0:3002
    2.1.12281  61200   3     0.0.0.0:3002
    2.1.12282  61201   4     0.0.0.0:3002</code></pre> </div>
          </div>
          </div>
        </section>

        <section class="c-section"><a name="secure"></a>
          <div class="c-container">
            <h2 class="c-heading -h3"><a href="#secure">Set up secure access</a></h2>

            <div class="c-grid">
              <div class="_col -col-1-1">
                <p>You may have noticed that slc has been connecting to your production server over HTTP.
                Of course you need to set up secure access to your servers.
                Fortunately, StrongLoop PM supports secure connections using SSH.</p>
              </div>
              <div class="_col -col-1-2">
                <p>First, verify that you have SSH remote access as follows:</p>
                <p>Note: Your remote user name may be something other than "root".</p>
              </div>
              <div class="_col -col-1-2">
                <pre><code class="language-bash">$ ssh root&#64;the.remote.host
$ SSH_USER=root slc ctl status</code></pre>
              </div>
            </div>
<br/>
            <div class="c-grid">
              <div class="_col -col-1-2">
                <p>Then set up SSH key-based authentication, if you haven't done so already.

                </p>
                <p>
                You just need to set some environment variables, then enter these commands:
                From then on you can use <span class="cmd">http+ssh</span>
                instead of plain old <span class="cmd">http</span> to control and deploy securely to your server.
                </p>
                <p>
                See <a href="https://help.github.com/articles/generating-ssh-keys/">Generating SSH keys</a> if you need some guidance. </p>
                </p>
              </div>
              <div class="_col -col-1-2">
                <pre><code class="language-bash">$ export SSH_USER=root
$ export SSH_KEY=~/.ssh/ec2.rsa
$ slc deploy http+ssh://the.remote.host
$ slc ctl -C http+ssh://the.remote.host status</code></pre>
              </div>
            </div>
          </div>
        </section>

        <section class="c-section  x-greylight"><a name="profile"></a>
          <div class="c-container -padded">
            <h2 class="c-heading -h3"><a href="#profile">View CPU and memory profiles</a></h2>

            <div class="c-grid">
              <div class="_col -col-1-1">
                <p>To get meaningful data, run the profiler while your application is under typical or high load.</p>
              </div>
            </div>
            <div class="c-grid top-pad">
              <div class="_col -col-1-2">
                <p>On your local (development) system, start StrongLoop Arc.</p>
                <p>Log in, if you're not already logged in.</p>
                <p>You'll see the StrongLoop Arc splash screen:</p>
              </div>
              <div class="_col -col-1-2 top-pad">
                <pre><code class="language-bash">$ slc arc</code></pre>
              </div>
            </div>

            <div class="c-grid top-pad" >
              <div class="_col -col-1-2" >
                <img src="/images/arc splash.png" class="c-fleximg" />
              </div>
              <div class="_col -col-1-2">
                  <p style="margin-top: 30px;">In Arc, click <b>Profiler</b>.</p>
              </div>
            </div>
<br/>
            <div class="c-grid">
              <div class="_col -col-2-3">
                <p>In Arc Profiler:</p>
                <ol>
                  <li>Enter the host name of your production system and the port on which StrongLoop PM is running (8701 by default).</li>
                  <li>Click <b>Load</b> to load.  You'll see the PIDs of the app processes; the first one is selected by default.</li>
                  <li>"JavaScript/Node.js CPU Profile" is selected by default. Click <b>Start</b> to start CPU profiling the
                  first worker process.  Wait about five seconds then click <b>Stop</b>.</li>
                  <li>Select "Heap Snapshot" and repeat the process</li>
                  <li>Each time you do this, the profile is added to the <b>Profiles</b> list on the left. Select each profile in the
                  list to view it; for example as shown below.</li>
                </ol>
              </div>
              <div class="_col -col-1-3">
                <img src="/images/arc-profile-target.png" class="c-fleximg" />
              </div>
            </div>

            <div class="c-grid">
              <div class="_col -col-3-4">
                <img src="/images/arc profiler 1.1.png" class="c-fleximg"/>
              </div>
            </div>

          <div class="c-grid top-pad">
            <div class="_col -col-3-4">
              <p>For more information, see <a href="http://docs.strongloop.com/display/SLC/Profiling">Profiling</a> in the documentation.</p>
            </div>
          </div>
        </section>

        <section class="c-section"><a name="metrics"></a>
          <div class="c-container -padded">
            <h2 class="c-heading -h3"><a href="#metrics">Monitor performance metrics</a></h2>

            <div class="c-grid ">
              <div class="_col -col-3-4" style="margin-bottom: 10px;">
                <p>If you haven't already done so, set up your StrongLoop license key for monitoring performance metrics.
                See <a href="/getting-started#metrics">Local Use</a> for instructions.</p>
              </div>
              <div class="_col -col-2-3">

                  <p>Click <b>Metrics</b>.</p>
                  <p>Enter the host name of your production system and the port on which StrongLoop PM is running
                  (8701 by default).</p>

              </div>
              <div class="_col -col-1-3">
                <img src="/images/arc-remote-metrics.png" class="c-fleximg" />
              </div>
            </div>

            <div class="c-grid">
              <div class="_col -col-3-4">
                 <p>Arc will show the process IDs (PIDs) for the app running on the remote host and
                   display peformance metrics, including statistics on CPU use, event loop execution, and heap memory consumption for the first process shown.</p>
                  <p>For details on the available metrics,
                  see <a href="http://docs.strongloop.com/display/SLC/Viewing+metrics+with+Arc#ViewingmetricswithArc-Availablemetrics">Available metrics</a>.</p>
                <img src="/images/arc-metrics.png" class="c-fleximg"/>
              </div>
            </div>
          </div>
        </section>

        <section class="c-section x-greylight"><a name="trigger"></a>
          <div class="c-container -padded">
            <h2 class="c-heading -h3"><a href="#trigger">Trigger CPU profiling when the Node event loop stalls</a></h2>
            <div class="_col -col-1-2">
              <p>To trigger CPU profiling when the Node event loop stalls,
              simply add a timeout argument to specify the threshold: if the
              event loop stalls for longer than that time, then CPU profiling starts.
              It stops when the event loop resumes execution.</p>
            </div>
            <div class="c-grid">
              <div class="_col -col-1-2">
                <p>For example, to start CPU profiling for process ID 22670 in service ID 1, when event loop stalls for more than 12ms:</p>
              </div>
              <div class="_col -col-1-2">
                <pre><code class="language-bash">$ slc ctl cpu-start 1.1.22670 12 </code></pre>
              </div>
            </div>
          </div>
        </section>

        <section class="c-section "><a name="lb"></a>
          <div class="c-container -padded">
            <h2 class="c-heading -h3"><a href="#lb">Set up load balancer</a></h2>
            <div class="c-grid">
              <div class="_col -col-1-2"><p>Assuming you have already <a href="http://nginx.org/en/download.html">installed Nginx</a>....</p></div>
            </div>

            <div class="c-grid">
              <div class="_col -col-1-2">
                <p>First, install and run the StrongLoop Nginx Controller service on your load balancer host.</p>
                <br/>
                <p>Then add the load balancer in Arc:</p>
                <ol>
                  <li>Click <b>Process Manager</b>.</li>
                  <li>Add all your Process Manager hosts.</li>
                  <li>Click <b>Load Balancer</b>.  Enter the Nginx load balancer host and port.</li>
                </ol>
              </div>
              <div class="_col -col-1-2 push-up">
                <pre><code class="language-bash">$ npm install -g strong-nginx-controller
$ sl-nginx-ctl-install</code></pre>
                <img src="/images/arc-lb-setup.png" class="c-fleximg"/>
              </div>
            </div>
          </div>
        </section>

      </main>
      <footer class="c-footer x-green">
        <div class="c-container -padded">
          <nav class="_nav">
            <ul class="_nav-list js-nav-list">
              <li class="_nav-item"><a href="/">About</a></li>
              <li class="_nav-item"><a href="/compare">Compare</a></li>
              <li class="_nav-item"><a href="/getting-started">Local Use</a></li>
              <li class="_nav-item -active"><a href="/prod">Remote Use</a></li>
              <li class="_nav-item"><a href="/resources">Resources</a></li>
            </ul>
          </nav>
          <p class="_copyright">© Copyright 2015 StrongLoop, Inc.</p>
          <iframe src="http://ghbtns.com/github-btn.html?user=strongloop&amp;repo=strong-pm&amp;type=follow" class="c-github-follow"></iframe>
        </div>
      </footer>
    </div>
  </body>
</html>
